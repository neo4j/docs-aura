:role-project-admin: Project Admin
:role-project-member: Project Member
:max-request-hours: 24
:max-download-rows: 5 million
:log-download-retention-days: 30

[[aura-monitoring]]
= Download logs

label:AuraDB-Professional[]
label:AuraDB-Virtual-Dedicated-Cloud[]

Both *Query log analyzer* and *Security log analyzer* allow you to download the fetched logs. 
The downloaded logs account for any filters and search that have been applied. 
Downloading logs consists of two steps: **initiate the download** and **download the file**.

[NOTE]
====
Downloading logs requires a project role of either _{role-project-admin}_ or _{role-project-member}_.
====

=== Initiate download

To initiate a download, after fetching the logs, use the _Initiate log download_ icon button (Arrow Down Tray Icon) in the top right corner of either the Summary or Details table. 
Select the following options in the dialog:

* *Log type* - Select one or both:
** *Summary* - Aggregated log statistics
** *Details* - Individual log events
* *Format* - Choose your preferred format:
** *JSON*
** *CSV* with optional settings:
*** Include CSV headers (default: enabled)
*** CSV field delimiter (default: comma)

*Confirm* starts the download. 

[NOTE]
====
Each download request is limited to {max-request-hours} hours of data and a maximum of {max-download-rows} rows.
====

=== Download the file

Use the _Open downloads archive_ icon button (Document Text Icon) in the top right corner of the page, to view your downloads. 
The _Downloads archive_ side drawer displays a table with all downloads for the currently selected instance. 
The table includes the following information for each download:

.Downloads archive table columns
[cols="25,75v"]
|===
| Display Name | Description

| Requested
| When the download was requested and by which user.

| Status
| Current status of the download (e.g., Running, Completed, Failed).

| Type
| The type of logs being downloaded (Query or Security) and subtype (Summary or Details).

| Time Period
| The time range covered by the downloaded logs.

| Rows
| Number of log entries exported.

| Format
| File format of the download (JSON or CSV with additional CSV settings).

| Filters
| Applied filters for the log download.

| Actions
| _Download log_ icon button (Arrow Down Tray Icon) and _Delete log_ icon button (Trash Icon) for the log file.
|===

You can download log files by selecting the download icon in the Actions column once the status shows _Ready_. 
Downloaded logs are provided as a zipped file in your chosen format (JSON or CSV), containing the same fields shown in the Field Name columns of the Summary and Details tables above. 
The file name follows this pattern: `<db_id>-<timestamp>-<log_type>-logs-<log_sub_type>.<format>.gz`, for example: `dd9ba752-1731586207476-query-logs-details.json.gz`

To delete a log file, select the delete icon in the Actions column.

[NOTE]
====
Log files are automatically deleted from the downloads archive after {log-download-retention-days} days.
====
