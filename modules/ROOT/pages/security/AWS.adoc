= AWS using PrivateLink

* For a step-by-step guide, see the link:https://neo4j.com/blog/auradb/neo4j-aws-privatelink-configuration/#2[How to Configure Neo4j Aura With AWS PrivateLink] blog article.
* Refer to https://aws.amazon.com/privatelink[AWS PrivateLink] docs for IAM requirements.
* AWS region `us-east-1` does not support AZ `use1-az3` for private endpoints.

image::privatelink.png["VPC connectivity with AWS PrivateLink", title="VPC connectivity with AWS PrivateLink"]

To continue accessing Query and Explore, you can either connect via HTTPS (port 443), this is helpful when network security blocks Bolt (port 7687), e.g. when a private link is setup on the database with public traffic disabled.
Alternatively you can set up a VPN (Virtual Private Network) in your VPC and connect to Query and Explore over the VPN.

image::privatelink_02_enabled_private_traffic_only.png["Architecture overview with private endpoints enabled and public traffic disabled", title="Architecture overview with private endpoints enabled and public traffic disabled"]

[NOTE]
====
To access Query and Explore over a VPN, you must ensure that:

* The VPN server uses the https://docs.aws.amazon.com/vpc/latest/userguide/vpc-dns.html#AmazonDNS[VPC's DNS servers].
* You use the *Private URI* shown on the instance tile and in the instance details.
It will be different from the *Connection URI* you used before.
====

image::privatelink_03_browser_bloom_over_vpn.png["Accessing Query and Explore over a VPN", title="Accessing Query and Explore over a VPN"]

